<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>Calculadora de Taxa</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <!-- Fonte moderna do Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">

  <style>
    /* Reset e base */
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      font-family: 'Inter', sans-serif;
      background: linear-gradient(to right, #f0f4f8, #d9e2ec);
      display: flex;
      justify-content: center;
      align-items: center;
      min-height: 100vh;
      padding: 20px;
    }

    .container {
      width: 100%;
      max-width: 520px;
      background: #fff;
      border-radius: 16px;
      padding: 30px;
      box-shadow: 0 8px 25px rgba(0,0,0,0.15);
      transition: all 0.3s ease;
    }

    .container:hover {
      transform: translateY(-3px);
      box-shadow: 0 12px 35px rgba(0,0,0,0.2);
    }

    /* Logo centralizada */
    .logo {
      display: block;
      margin: 0 auto 20px auto;
      max-width: 180px;
      height: auto;
    }

    h2 {
      text-align: center;
      color: #1f2937;
      margin-bottom: 25px;
      font-size: 1.8rem;
    }

    label {
      display: block;
      margin-bottom: 6px;
      font-weight: 600;
      color: #334155;
      margin-top: 15px;
    }

    input, select, button {
      width: 100%;
      padding: 12px 15px;
      font-size: 1rem;
      border-radius: 8px;
      border: 1px solid #cbd5e1;
      outline: none;
      transition: 0.2s;
    }

    input:focus, select:focus {
      border-color: #3b82f6;
      box-shadow: 0 0 0 2px rgba(59,130,246,0.2);
    }

    button {
      background-color: #3b82f6;
      color: #fff;
      font-weight: 600;
      cursor: pointer;
      margin-top: 20px;
      transition: background 0.3s;
    }

    button:hover {
      background-color: #2563eb;
    }

    .resultado {
      margin-top: 20px;
      background: linear-gradient(135deg, #d1fae5, #a7f3d0);
      padding: 20px;
      border-left: 6px solid #10b981;
      border-radius: 10px;
      font-weight: 500;
      white-space: pre-wrap;
      color: #065f46;
      box-shadow: inset 0 2px 4px rgba(0,0,0,0.05);
    }

    .copy-btn {
      background-color: #10b981;
      margin-top: 10px;
    }

    .copy-btn:hover {
      background-color: #059669;
    }

    #recorrente-container {
      display: none;
      margin-top: 10px;
    }
  </style>
</head>
<body>

  <div class="container">
    <!-- Logo centralizada -->
    <img src="unnamed.png" alt="Logo Agaucha" class="logo">

    <h2>Calculadora de Taxa Profissional</h2>

    <label for="fipe">Valor da FIPE (ex: 25.000):</label>
    <input type="text" id="fipe" inputmode="decimal" pattern="[0-9,\.]*" value="25000">

    <label for="taxa">Selecione a taxa (%):</label>
    <select id="taxa">
      <option value="0.0015">0,15%</option>
      <option value="0.0017">0,17%</option>
      <option value="0.0018">0,18%</option>
      <option value="0.0020">0,20%</option>
      <option value="0.0021">0,21%</option>
      <option value="0.0022">0,22%</option>
      <option value="0.0023">0,23%</option>
      <option value="0.0025">0,25%</option>
      <option value="0.0027">0,27%</option>
      <option value="0.0028">0,28%</option>
      <option value="0.0033">0,33%</option>
      <option value="0.0040">0,40%</option>
      <option value="0.0050">0,50%</option>
    </select>

    <label for="pacote">Selecione o pacote:</label>
    <select id="pacote" onchange="verificarRecorrente()">
      <option value="32.04">Start - R$ 32.04</option>
      <option value="42.77">Bronze - R$ 42,77</option>
      <option value="46.87">Prata - R$ 46,87</option>
      <option value="51.87">Ouro - R$ 51,87</option>
      <option value="66.87">Diamante - R$ 66,87</option>
    </select>

    <label for="vistoria">Valor da vistoria:</label>
    <select id="vistoria">
      <option value="0">R$ 0,00</option>
      <option value="50">R$ 50,00</option>
      <option value="80">R$ 80,00</option>
      <option value="100">R$ 100,00</option>
      <option value="150">R$ 150,00</option>
      <option value="180">R$ 180,00</option>
      <option value="200">R$ 200,00</option>
      <option value="250">R$ 250,00</option>
      <option value="300">R$ 300,00</option>
    </select>

    <label for="opcional">Valor do opcional (ex: 4,90):</label>
    <input type="number" id="opcional" value="0.00" step="0.01" min="0">

    <label for="rastreador">Valor do rastreador:</label>
    <select id="rastreador">
      <option value="0">Nenhum</option>
      <option value="39.90">R$ 39,90</option>
    </select>

    <button onclick="calcular()">Calcular</button>

    <div class="resultado" id="resultado"></div>
    <button class="copy-btn" onclick="copiarResultado()">Copiar Resultado</button>
  </div>

  <script>
    function diasRestantesNoMes() {
      const hoje = new Date();
      const ultimoDia = new Date(hoje.getFullYear(), hoje.getMonth() + 1, 0).getDate();
      return ultimoDia - hoje.getDate() + 1;
    }

    function verificarRecorrente() {
      const pacote = document.getElementById("pacote");
      const valor = pacote.options[pacote.selectedIndex].text.toLowerCase();
      const container = document.getElementById("recorrente-container");
      if (valor.includes("ouro")) {
        container.style.display = "block";
      } else {
        container.style.display = "none";
        document.getElementById("recorrente").value = "0";
      }
    }

    function calcular() {
  const fipeInput = document.getElementById("fipe").value.replace(",", ".").trim();
  const fipe = parseFloat(fipeInput);
  const taxa = parseFloat(document.getElementById("taxa").value) || 0;
  const pacote = parseFloat(document.getElementById("pacote").value) || 0;
  const vistoria = parseFloat(document.getElementById("vistoria").value) || 0;
  const opcional = parseFloat(document.getElementById("opcional").value) || 0;
  const rastreador = parseFloat(document.getElementById("rastreador").value) || 0;
  
  if (isNaN(fipe) || fipe <= 0) {
    alert("Por favor, insira um valor vÃ¡lido para a FIPE.");
    return;
  }

  const diasRestantes = diasRestantesNoMes();
  const taxaMensal = fipe * taxa;
  const taxaProporcional = (taxaMensal / 30) * diasRestantes;
  const total = taxaProporcional + pacote + vistoria + opcional + rastreador;

  const resultadoTexto =
    `ðŸ“… Dias restantes no mÃªs: ${diasRestantes}\n` +
    `ðŸ’° ${(taxa * 100).toFixed(2)}% da FIPE (mensal): R$ ${taxaMensal.toFixed(2)}\n` +
    `ðŸ“† Taxa proporcional (${diasRestantes} dias): R$ ${taxaProporcional.toFixed(2)}\n` +
    `ðŸ“¦ Pacote: R$ ${pacote.toFixed(2)}\n` +
    `ðŸ” Vistoria: R$ ${vistoria.toFixed(2)}\n` +
    `ðŸ§© Opcional: R$ ${opcional.toFixed(2)}\n` +
    `ðŸ“¡ Rastreador: R$ ${rastreador.toFixed(2)}\n\n` +
    `ðŸŽ¯ Total: R$ ${total.toFixed(2)}`;

  document.getElementById("resultado").innerText = resultadoTexto;
}


    function copiarResultado() {
      const resultado = document.getElementById("resultado").innerText;
      if (!resultado) {
        alert("Nada para copiar.");
        return;
      }
      navigator.clipboard.writeText(resultado)
        .then(() => alert("Resultado copiado!"))
        .catch(() => alert("Erro ao copiar o resultado."));
    }

    verificarRecorrente();
  </script>

</body>
</html>
